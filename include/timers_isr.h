#ifndef TIMERS_ISR_H_
#define TIMERS_ISR_H_

#include "microwave_firmware.h"

// ============================================================================
// --- üü® –ü–†–û–¢–û–¢–ò–ü–ò –§–£–ù–ö–¶–Ü–ô ---
// ============================================================================

/**
 * @brief –ù–∞–ª–∞—à—Ç–æ–≤—É—î TIMER1 –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó 1–º—Å –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è (ISR).
 * –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–±–∏—Ä–∞—î OCR1A –¥–ª—è 8–ú–ì—Ü –∞–±–æ 16–ú–ì—Ü.
 */
void setup_timer1_1ms(void);

/**
 * @brief –ó–∞–ø—É—Å–∫–∞—î "–≤–∞–∂–∫—ñ" 1-—Å–µ–∫—É–Ω–¥–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è –∑ –≥–æ–ª–æ–≤–Ω–æ–≥–æ —Ü–∏–∫–ª—É loop().
 * (–í–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è, –∫–æ–ª–∏ ISR(TIMER1_COMPA_vect) –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î g_1sec_tick_flag).
 */
void run_1sec_tasks(void);

/**
 * @brief –û–Ω–æ–≤–ª—é—î –≥–ª–æ–±–∞–ª—å–Ω–∏–π –≥–æ–¥–∏–Ω–Ω–∏–∫ (g_clock_hour/min/sec).
 * –í–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –∞–±–æ –∑ ZVS ISR, –∞–±–æ –∑ run_1sec_tasks().
 */
void update_clock(void);

/**
 * @brief –ó–∞–ø—É—Å–∫–∞—î –∫–æ—Ä–æ—Ç–∫–∏–π (300–º—Å) –∑–≤—É–∫–æ–≤–∏–π —Å–∏–≥–Ω–∞–ª.
 */
void do_short_beep(void);

/**
 * @brief –ó–∞–ø—É—Å–∫–∞—î –¥–æ–≤–≥–∏–π (800–º—Å) –∑–≤—É–∫–æ–≤–∏–π —Å–∏–≥–Ω–∞–ª.
 */
void do_long_beep(void);

/**
 * @brief –ó–∞–ø—É—Å–∫–∞—î —Å–µ—Ä—ñ—é —Å–∏–≥–Ω–∞–ª—ñ–≤ –¥–ª—è "–ø–µ—Ä–µ–≤–µ—Ä—Ç–∞–Ω–Ω—è".
 */
void do_flip_beep(void);

/**
 * @brief –ù–∞–ª–∞—à—Ç–æ–≤—É—î Timer2 –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –≤—ñ–¥ 32.768 –∫–ì—Ü –∫–≤–∞—Ä—Ü—É (RTC).
 */
void setup_async_timer2_rtc(void);

/**
 * @brief –í–∏–º–∏–∫–∞—î Timer2 —Ç–∞ –π–æ–≥–æ –ø–µ—Ä–µ—Ä–∏–≤–∞–Ω–Ω—è.
 */
void disable_async_timer2_rtc(void);

#endif // TIMERS_ISR_H_